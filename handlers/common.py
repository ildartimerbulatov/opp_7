from aiogram import Router, types, F
from aiogram.filters.command import Command
from less3.utils.randomfox import fox
from less3.keyboards.keyboards import kb1, kb2, kb3

from random import randint

router = Router()

@router.message(Command("start"))
async def cmd_start(message: types.Message):
    name = message.chat.first_name
    text = "–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —á–∞—Ç-–±–æ—Ç –ü—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∏ –∫–ª–∏–Ω–∏–∫ –Ω–µ–≤—Ä–æ–ª–æ–≥–∏–∏ –∏ –æ—Ä—Ç–æ–ø–µ–¥–∏–∏ \"–ó–¥—Ä–∞–≤–ö–ª–∏–Ω–∏–∫\" üëã\n"
    text += "–Ø - –í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫!\n"
    text += "–î–ª—è –Ω–∞—á–∞–ª–∞ –º–Ω–µ –Ω—É–∂–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –í–∞—Å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –Ω–∞—à–µ–π –∫–ª–∏–Ω–∏–∫–∏.\n"
    text += "1Ô∏è‚É£ –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –ü—Ä–æ–π—Ç–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –Ω–∏–∂–µ ‚¨áÔ∏è\n"
    await message.answer(f'–ü—Ä–∏–≤–µ—Ç, {name}')
    await message.answer(text)
    await message.answer("–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ", reply_markup=kb3)

@router.message(F.text == "–ü—Ä–æ–π—Ç–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é")
async def identificator(message: types.Message):
    await message.answer(f"–í–∞—à ID: {message.chat.id}")
    await message.answer(f"–í–∞—à username: {message.chat.username}")
    await message.answer(f"–í–∞—à–µ –∏–º—è: {message.chat.first_name}")
    await message.answer(f"–í–∞—à–∞ —Ñ–∞–º–∏–ª–∏—è: {message.chat.last_name}")
    if hasattr(message.chat, 'language_code'):
        await message.answer(f"–í–∞—à —è–∑—ã–∫: {message.chat.language_code}")
    else:
        await message.answer("–í–∞—à —è–∑—ã–∫ –Ω–µ —É–∫–∞–∑–∞–Ω")
    await message.answer("–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–π–¥–µ–Ω–∞")
    await message.answer("–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ –í—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å ‚¨á", reply_markup=kb1)

@router.message(F.text == "–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ –∫–ª–∏–Ω–∏–∫–∞—Ö \"–ó–¥—Ä–∞–≤–ö–ª–∏–Ω–∏–∫\"")
async def about_clinics(message: types.Message):
    text = (
        "–°–µ—Ç—å –∫–ª–∏–Ω–∏–∫ –Ω–µ–≤—Ä–æ–ª–æ–≥–∏–∏ –∏ –æ—Ä—Ç–æ–ø–µ–¥–∏–∏ ¬´–ó–¥—Ä–∞–≤–ö–ª–∏–Ω–∏–∫¬ª —É–∂–µ –±–æ–ª–µ–µ 15 –ª–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —É—Å–ª—É–≥–∏. "
        "–ú—ã –≥–æ—Ä–¥–∏–º—Å—è —Ç–µ–º, —á—Ç–æ –ø–æ–º–æ–≥–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤—É –ª—é–¥–µ–π –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ! üí™\n\n"
        "–í –Ω–∞—à–∏—Ö –∫–ª–∏–Ω–∏–∫–∞—Ö —Ä–∞–±–æ—Ç–∞—é—Ç –≤—ã—Å–æ–∫–æ–∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—Ä–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É—é—Ç —Å–≤–æ–∏ –Ω–∞–≤—ã–∫–∏ –∏ —Å–ª–µ–¥—è—Ç –∑–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è–º–∏ –≤ –º–µ–¥–∏—Ü–∏–Ω–µ. ü©∫\n\n"
        "–ú—ã –∑–∞–±–æ—Ç–∏–º—Å—è –æ –≤–∞—à–µ–º –∑–¥–æ—Ä–æ–≤—å–µ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ü–µ–Ω—ã, –ª—å–≥–æ—Ç—ã, —Å–∫–∏–¥–∫–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø–ª–∞—Ç—ã –≤ —Ä–∞—Å—Å—Ä–æ—á–∫—É. üí∞ "
        "–ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é –ø—Ä–æ–≤–æ–¥–∏–º –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ª–µ–∫—Ü–∏–∏ –æ –∑–¥–æ—Ä–æ–≤—å–µ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–∞—Ö –ª–µ—á–µ–Ω–∏—è.\n\n"
        "–í–∞—à–µ –∑–¥–æ—Ä–æ–≤—å–µ ‚Äî –Ω–∞—à–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –∑–∞–¥–∞—á–∞! üåü"
    )
    await message.answer(text)

@router.message(F.text == "–û–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —É—Å–ª–æ–≤–∏—è–º–∏ –ü—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏")
async def loyalty_program(message: types.Message):
    text = (
        "–£—Å–ª–æ–≤–∏—è –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –≤ —Å–µ—Ç–∏ –∫–ª–∏–Ω–∏–∫ ¬´–ó–¥—Ä–∞–≤–ö–ª–∏–Ω–∏–∫¬ª\n\n"
        "–ú—ã —Ü–µ–Ω–∏–º –Ω–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —Å—Ç—Ä–µ–º–∏–º—Å—è –¥–µ–ª–∞—Ç—å –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —É—Å–ª—É–≥–∏ –¥–æ—Å—Ç—É–ø–Ω–µ–µ! üåü –í —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Ä—è–¥ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –¥–ª—è –Ω–∞—à–∏—Ö –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤:\n\n"
        "1. –°–∫–∏–¥–∫–∏ –Ω–∞ —É—Å–ª—É–≥–∏: –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –Ω–∞ —Å–∫–∏–¥–∫—É –¥–æ 20% –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏. üí∏\n\n"
        "2. –ë–æ–Ω—É—Å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞: –ù–∞–∫–∞–ø–ª–∏–≤–∞–π—Ç–µ –±–æ–Ω—É—Å—ã –∑–∞ –∫–∞–∂–¥–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –¥–ª—è –æ–ø–ª–∞—Ç—ã –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —É—Å–ª—É–≥. –ë–æ–Ω—É—Å—ã –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥—Ä—É–∑—å—è–º –∏ –±–ª–∏–∑–∫–∏–º! üéÅ\n\n"
        "3. –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è: –£—á–∞—Å—Ç–∏–µ –≤ –∞–∫—Ü–∏—è—Ö –∏ —Ä–∞—Å–ø—Ä–æ–¥–∞–∂–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ, –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∞–º –ø–æ–ª—É—á–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∫–∏–¥–∫–∏ –∏ –ø–æ–¥–∞—Ä–∫–∏. üìÖ\n\n"
        "4. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ: –ù–∞—à–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –∏–º–µ—é—Ç –ø—Ä–∞–≤–æ –Ω–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ –∑–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∏–µ–º –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º, —á—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç –≤–∞—à–µ –≤—Ä–µ–º—è. ‚è≥\n\n"
        "5. –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏: –£—á–∞—Å—Ç–∏–µ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –≤–æ–ø—Ä–æ—Å–∞–º –∑–¥–æ—Ä–æ–≤—å—è –∏ –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π. üó£Ô∏è\n\n"
        "6. –ü–æ–¥–∞—Ä–æ—á–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã: –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è –ø–æ–¥–∞—Ä–æ—á–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –Ω–∞ —É—Å–ª—É–≥–∏ –∫–ª–∏–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Å—Ç–∞—Ç—å –æ—Ç–ª–∏—á–Ω—ã–º –ø–æ–¥–∞—Ä–∫–æ–º –¥–ª—è –≤–∞—à–∏—Ö –±–ª–∏–∑–∫–∏—Ö. üéâ\n\n"
        "–í–∞—à–µ –∑–¥–æ—Ä–æ–≤—å–µ –∏ –∫–æ–º—Ñ–æ—Ä—Ç ‚Äî –Ω–∞—à–∞ –≥–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞! –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ ¬´–ó–¥—Ä–∞–≤–ö–ª–∏–Ω–∏–∫¬ª –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–ª—å—à–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –æ—Ç –≤–∞—à–µ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –Ω–∞–º! ‚ù§Ô∏è"
    )
    await message.answer(text)

@router.message(F.text == "–°—Ä–æ—á–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–∏–µ–º –≤ –∫–ª–∏–Ω–∏–∫—É")
async def urgent_appointment(message: types.Message):
    await message.answer("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ –ø—Ä–∏–µ–º:", reply_markup=kb2)

@router.message(F.text == "stop")
async def stop_action(message: types.Message):
    await message.answer("–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –≤—ã–±–æ—Ä—É. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å ‚¨á", reply_markup=kb1)

@router.message(Command('stop'))
async def cmd_stop(message: types.Message):
    name = message.chat.first_name
    await message.answer(f'–ü–æ–∫–∞, {name}')

@router.message(Command('fox'))
@router.message(Command('–ª–∏—Å–∞'))
@router.message(F.text.lower() == '–ø–æ–∫–∞–∂–∏ –ª–∏—Å—É')
async def cmd_fox(message: types.Message):
    name = message.chat.first_name
    img_fox = fox()
    await message.answer(f'–î–µ—Ä–∂–∏ –ª–∏—Å—É, {name}')
    await message.answer_photo(photo=img_fox)

@router.message(F.text.lower() == 'num')
async def send_random(message: types.Message):
    numbers = randint(1, 10)
    await message.answer(f"{numbers}")

@router.message(F.text)
async def msg_echo(message: types.Message):
    msg_user = message.text.lower()
    name = message.chat.first_name
    if msg_user == "–ø—Ä–æ–π—Ç–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é":
        return
    if '–ø—Ä–∏–≤–µ—Ç' in msg_user:
        await message.answer(f'–ü—Ä–∏–≤–µ—Ç-–ø—Ä–∏–≤–µ—Ç, {name}')
    elif '–ø–æ–∫–∞' in msg_user:
        await message.answer(f'–ü–æ–∫–∞, {name}')
    elif '—Ç—ã –∫—Ç–æ' == msg_user:
        await message.answer(f'–Ø —ç—Ö–æ–±–æ—Ç –Ω–∞ aiogram 3, {name}')
    elif '–ª–∏—Å–∞' in msg_user:
        await message.answer(f'–≤—ã–±–µ—Ä–∏ –∫–ª–∞–≤–∏—à—É –ø–æ–∫–∞–∂–∏ –ª–∏—Å—É, {name}', reply_markup=kb2)
    elif '—É—Ä–∞' in msg_user:
        await message.answer("–£–†–ê–ê–ê")
    elif msg_user == "–∏–Ω—Ñ–æ":
        user_name = message.chat.id
        print(user_name)
        await message.answer(str(user_name))
    else:
        await message.answer(f'–Ø –Ω–µ –∑–Ω–∞—é —Ç–∞–∫–æ–≥–æ —Å–ª–æ–≤–∞')
